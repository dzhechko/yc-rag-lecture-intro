<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêç Python RAG –ü–µ—Å–æ—á–Ω–∏—Ü–∞ - –í–µ–±-–≤–µ—Ä—Å–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .code-block {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            max-width: 100%;
        }
        .output-block {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            background: #1e1e1e;
            color: #00ff00;
            padding: 1rem;
            border-radius: 0.5rem;
            max-height: 600px;
            overflow-y: auto;
            line-height: 1.4;
        }
        .separator {
            border-top: 2px solid #4a5568;
            margin: 1rem 0;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <div class="container mx-auto px-4 py-8">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-green-400 mb-2">
                <i class="fas fa-python mr-2"></i>Python RAG –ü–µ—Å–æ—á–Ω–∏—Ü–∞
            </h1>
            <p class="text-gray-400">
                <i class="fas fa-lightbulb text-yellow-400 mr-2"></i>
                –°–æ–≤–µ—Ç: –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–¥ –Ω–∏–∂–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å" –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤!
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ö–æ–¥ -->
            <div class="bg-gray-800 rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-3 text-blue-400">
                    <i class="fas fa-code mr-2"></i>–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä RAG
                </h2>
                <textarea id="codeInput" class="code-block w-full h-96 resize-none">
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
rag = SimpleRAG()

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
documents = [
    "RAG (Retrieval-Augmented Generation) –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–∏—Å–∫ 
    –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤",
    "FAISS - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Facebook –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ 
    –≤–µ–∫—Ç–æ—Ä–∞–º",
    "HNSW –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è 
    –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞",
    "–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ–≤—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –¥–ª—è 
    —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞",
    "Recall@k –∏–∑–º–µ—Ä—è–µ—Ç –¥–æ–ª—é –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö 
    –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"
]

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ RAG
rag.add_documents(documents)

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞
results1 = rag.search("–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?", k=2)
results2 = rag.search("–ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π?", k=2)
                </textarea>
                <div class="mt-4 flex gap-3">
                    <button onclick="runCode()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                        <i class="fas fa-play mr-2"></i>–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥
                    </button>
                    <button onclick="copyCode()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition">
                        <i class="fas fa-copy mr-2"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div class="bg-gray-800 rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-3 text-green-400">
                    <i class="fas fa-terminal mr-2"></i>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                </h2>
                <div id="output" class="output-block">
                    <span class="text-gray-400">–ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥" –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è...</span>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
        <div class="mt-6 bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold mb-3 text-yellow-400">
                <i class="fas fa-info-circle mr-2"></i>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="bg-gray-700 rounded p-3">
                    <h4 class="font-bold text-red-400 mb-2">‚ùå –ü—Ä–æ–±–ª–µ–º—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:</h4>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–¢–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ–º (...)</li>
                        <li>–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ (====) —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ</li>
                        <li>–ù–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫</li>
                        <li>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è</li>
                    </ul>
                </div>
                <div class="bg-gray-700 rounded p-3">
                    <h4 class="font-bold text-green-400 mb-2">‚úÖ –†–µ—à–µ–Ω–∏—è –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:</h4>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code class="text-yellow-300">textwrap.fill()</code> –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞</li>
                        <li>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π (70 —Å–∏–º–≤–æ–ª–æ–≤)</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫</li>
                        <li>–û—Ç—Å—Ç—É–ø—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å -->
        <div class="mt-6 bg-red-900 bg-opacity-30 border border-red-500 rounded-lg p-6">
            <h3 class="text-lg font-semibold mb-3 text-red-400">
                <i class="fas fa-exclamation-triangle mr-2"></i>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –æ –∫–æ–¥–µ
            </h3>
            <p class="text-gray-300 mb-3">
                <strong>–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å:</strong> –ù–ï–¢, –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 
                <span class="text-red-400 font-bold">–ù–ï —Ç–æ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–Ω —Å–ª–µ–≤–∞</span>.
            </p>
            <div class="bg-gray-800 rounded p-4 text-sm">
                <p class="mb-2"><strong class="text-yellow-400">–í –∫–æ–¥–µ —Å–ª–µ–≤–∞ –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ:</strong></p>
                <ul class="list-disc list-inside text-gray-300 mb-3">
                    <li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RAG: <code>rag = SimpleRAG()</code></li>
                    <li>–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
                    <li>–ù–ï–¢ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –ø–æ–∏—Å–∫–∞</li>
                </ul>
                <p class="mb-2"><strong class="text-yellow-400">–ù–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Å–ø—Ä–∞–≤–∞ –ø–æ–∫–∞–∑–∞–Ω–æ:</strong></p>
                <ul class="list-disc list-inside text-gray-300">
                    <li>‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ 2205,9–º—Å</li>
                    <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
                    <li>üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: "–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?"</li>
                    <li>üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: "–ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π?"</li>
                </ul>
                <p class="mt-3 text-orange-400">
                    <i class="fas fa-lightbulb mr-2"></i>
                    <strong>–í—ã–≤–æ–¥:</strong> –ü–µ—Å–æ—á–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä—ã—Ç—ã–π –∫–æ–¥ —Å –º–µ—Ç–æ–¥–∞–º–∏ –ø–æ–∏—Å–∫–∞.
                </p>
            </div>
        </div>
    </div>

    <script>
        function formatOutput(width = 70) {
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º
            return function(text) {
                const words = text.split(' ');
                let lines = [];
                let currentLine = '';
                
                for (let word of words) {
                    if ((currentLine + ' ' + word).length <= width) {
                        currentLine = currentLine ? currentLine + ' ' + word : word;
                    } else {
                        if (currentLine) lines.push(currentLine);
                        currentLine = word;
                    }
                }
                if (currentLine) lines.push(currentLine);
                
                return lines.join('\n   ');
            };
        }

        function runCode() {
            const outputEl = document.getElementById('output');
            const formatter = formatOutput(66);
            
            // –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            let output = '';
            output += '‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ 2205,9–º—Å\n\n';
            output += '‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n\n';
            output += '=' .repeat(70) + '\n';
            output += 'üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: \'–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?\'\n';
            output += 'üìä –ù–∞–π–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: 2\n\n';
            output += '1. (0.857) HNSW –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è\n';
            output += '   ' + formatter('–ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n';
            output += '2. (0.775) –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ–≤—ã–µ\n';
            output += '   ' + formatter('–≤–µ–∫—Ç–æ—Ä—ã –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n';
            output += 'üí° –û—Ç–≤–µ—Ç: –ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: HNSW\n';
            output += '   ' + formatter('–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n\n';
            output += '=' .repeat(70) + '\n';
            output += 'üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: \'–ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π?\'\n';
            output += 'üìä –ù–∞–π–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: 2\n\n';
            output += '1. (0.875) –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ–≤—ã–µ\n';
            output += '   ' + formatter('–≤–µ–∫—Ç–æ—Ä—ã –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n';
            output += '2. (0.871) HNSW –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è\n';
            output += '   ' + formatter('–ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n';
            output += 'üí° –û—Ç–≤–µ—Ç: –ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: HNSW\n';
            output += '   ' + formatter('–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞') + '\n\n';
            output += '=' .repeat(70) + '\n';
            
            outputEl.textContent = output;
            outputEl.classList.add('animate-pulse');
            setTimeout(() => outputEl.classList.remove('animate-pulse'), 500);
        }

        function copyCode() {
            const code = document.getElementById('codeInput').value;
            navigator.clipboard.writeText(code).then(() => {
                alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }
    </script>
</body>
</html>