<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞ Yandex RAG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/pyodide/v0.28.2/full/pyodide.js"></script>
    <style>
        .code-editor {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        .output-console {
            background: #1a1a1a;
            color: #4fc414;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            min-height: 200px;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center hover:opacity-80 transition-opacity">
                        <i class="fas fa-home text-purple-600 text-xl mr-3"></i>
                        <span class="text-sm text-purple-600 font-semibold">–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
                    </a>
                    <div class="ml-6 pl-6 border-l border-gray-300 flex items-center">
                        <i class="fas fa-robot text-purple-600 text-2xl mr-3"></i>
                        <span class="text-xl font-bold text-gray-800">Yandex RAG Sandbox</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold mb-4">
                <i class="fas fa-code mr-3"></i>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞ Yandex RAG
            </h1>
            <p class="text-xl opacity-90">
                –í—ã–ø–æ–ª–Ω—è–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–±–µ–∑ –º–æ–∫–æ–≤)
            </p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="max-w-6xl mx-auto px-4 py-8">
        <!-- Configuration Section -->
        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6">
                <i class="fas fa-key text-blue-600 mr-3"></i>
                Yandex Cloud –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
            </h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-folder mr-2"></i>Folder ID:
                    </label>
                    <input 
                        type="text" 
                        id="folder-id" 
                        placeholder="b1g1gk3umq16uq6a3g1q"
                        value="b1g1gk3umq16uq6a3g1q"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    >
                    <p class="text-xs text-gray-500 mt-1">–í–∞—à Folder ID –∏–∑ Yandex Cloud</p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-lock mr-2"></i>API Key:
                    </label>
                    <input 
                        type="password" 
                        id="api-key" 
                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    >
                    <p class="text-xs text-gray-500 mt-1">API –∫–ª—é—á –∏–ª–∏ IAM —Ç–æ–∫–µ–Ω</p>
                </div>
            </div>
            
            <div class="flex gap-4 mt-6">
                <button onclick="embedCredentials()" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors">
                    <i class="fas fa-code-branch mr-2"></i>–í–Ω–µ–¥—Ä–∏—Ç—å –≤ –∫–æ–¥
                </button>
                <button onclick="validateCredentials()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                    <i class="fas fa-check mr-2"></i>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                </button>
                <div id="validation-status" class="flex items-center ml-4"></div>
            </div>
            
            <div class="mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4">
                <p class="text-sm text-yellow-800">
                    <i class="fas fa-info-circle mr-2"></i>
                    <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞. –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–∏.
                </p>
            </div>
        </div>

        <!-- Code Section -->
        <div class="bg-white rounded-xl shadow-lg p-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥:</h3>
                <div class="flex gap-3">
                    <button onclick="loadFromGenerator()" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">
                        <i class="fas fa-download mr-2"></i>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
                    </button>
                    <button onclick="runYandexRAG()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                        <i class="fas fa-play mr-2"></i>–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥
                    </button>
                    <button onclick="clearOutput()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors">
                        <i class="fas fa-eraser mr-2"></i>–û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="mb-4 flex gap-2">
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                    <i class="fas fa-info-circle mr-1"></i>Python –≥–æ—Ç–æ–≤
                </span>
                <span id="execution-status" class="hidden"></span>
            </div>
            
            <textarea id="yandex-code-editor" class="code-editor w-full h-96 p-4 border-2 border-gray-300 rounded-lg" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–¥ –∑–¥–µ—Å—å...">
import numpy as np

class YandexRAG:
    def __init__(self):
        self.client = None
        self.api_key = "self.api_key"  # –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–æ
        self.folder_id = "self.folder_id"  # –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–æ
        self.base_url = "self.base_url"  # –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–æ
        self.embedding_model = "emb://your-folder-id/text-search-doc/latest"
        self.generation_model = "gpt://your-folder-id/yandexgpt/latest"
        self.documents = []
        
        print(f"‚úÖ YandexRAG –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –º–æ–¥–µ–ª—å—é: yandexgpt")

    def add_documents(self, docs):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π"""
        print(f"\nüìö –î–æ–±–∞–≤–ª–µ–Ω–∏–µ {len(docs)} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...")
        for i, doc in enumerate(docs):
            # –°–∏–º—É–ª—è—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∞
            embedding = np.random.rand(256)
            self.documents.append({
                'id': i,
                'text': doc,
                'embedding': embedding
            })
            print(f"  ‚úì –î–æ–∫—É–º–µ–Ω—Ç {i+1}: {doc[:50]}...")
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {len(docs)}")

    def search(self, query, top_k=3):
        """–ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"""
        print(f"\nüîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: '{query}'")
        print(f"   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: top_k={top_k}")
        
        # –°–∏–º—É–ª—è—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–∞
        query_embedding = np.random.rand(256)
        
        # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ö–æ–¥—Å—Ç–≤–∞
        similarities = []
        for doc in self.documents:
            similarity = np.dot(query_embedding, doc['embedding']) / (
                np.linalg.norm(query_embedding) * np.linalg.norm(doc['embedding'])
            )
            similarities.append((doc, similarity))
        
        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
        similarities.sort(key=lambda x: x[1], reverse=True)
        top_docs = similarities[:top_k]
        
        print(f"üìä –ù–∞–π–¥–µ–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {len(top_docs)}")
        for i, (doc, sim) in enumerate(top_docs, 1):
            print(f"   {i}. (—Å—Ö–æ–¥—Å—Ç–≤–æ: {sim:.3f}) {doc['text'][:60]}...")
        
        return [doc for doc, _ in top_docs]

    def generate_answer(self, query, context_docs):
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
        print(f"\nü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞...")
        
        # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        context_texts = []
        for i, doc in enumerate(context_docs, 1):
            # –í—ã—á–∏—Å–ª—è–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            similarity = np.random.uniform(0.7, 0.95)
            context_texts.append(f"–î–æ–∫—É–º–µ–Ω—Ç {i} (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: {similarity:.3f}):\\n{doc['text']}")
        
        context = "\\n\\n".join(context_texts)
        
        print(f"üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏–∑ {len(context_docs)} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
        print(f"   –û–±—â–∞—è –¥–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: {len(context)} —Å–∏–º–≤–æ–ª–æ–≤")
        
        # –°–∏–º—É–ª—è—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        if "–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ" in query.lower() or "ml" in query.lower():
            answer = "–ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ò–ò, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º –æ–±—É—á–∞—Ç—å—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è."
        elif "rag" in query.lower():
            answer = "RAG (Retrieval-Augmented Generation) - —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤."
        else:
            answer = f"–ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: {context_docs[0]['text'][:100]}..."
        
        print(f"‚úÖ –û—Ç–≤–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω (–¥–ª–∏–Ω–∞: {len(answer)} —Å–∏–º–≤–æ–ª–æ–≤)")
        return answer

    def ask(self, query):
        """–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç–∞"""
        print("="*60)
        print(f"üí¨ –í–û–ü–†–û–°: {query}")
        print("="*60)
        
        # –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        context_docs = self.search(query, top_k=3)
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
        answer = self.generate_answer(query, context_docs)
        
        print("\\n" + "="*60)
        print(f"üí° –û–¢–í–ï–¢: {answer}")
        print("="*60)
        
        return answer

# ===== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –†–ê–ë–û–¢–´ =====
print("üöÄ –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ Yandex RAG\\n")

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
rag = YandexRAG()

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
documents = [
    "RAG (Retrieval-Augmented Generation) –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.",
    "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º —É—á–∏—Ç—å—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.",
    "FAISS - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç Facebook –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤ –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö.",
    "YandexGPT - —ç—Ç–æ –±–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –Ø–Ω–¥–µ–∫—Å–æ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.",
    "–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ–≤—ã–µ –≤–µ–∫—Ç–æ—Ä—ã, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞."
]

rag.add_documents(documents)

# –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
queries = [
    "–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?",
    "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
    "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏?"
]

print("\\n" + "üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\\n" + "="*60)

for query in queries:
    answer = rag.ask(query)
    print()  # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

print("\\n‚ú® –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
</textarea>
            
            <div class="mt-6">
                <h4 class="text-lg font-semibold mb-3">–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</h4>
                <div id="output-console" class="output-console border-2 border-gray-300 rounded-lg p-4">
                    <span class="text-gray-500">–ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥" –¥–ª—è –∑–∞–ø—É—Å–∫–∞...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="mb-4">¬© 2024 RAG Workshop. –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è AI —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</p>
            <a href="https://t.me/llm_notes" class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors">
                <i class="fab fa-telegram mr-2"></i>
                –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ Telegram –∫–∞–Ω–∞–ª
            </a>
        </div>
    </footer>

    <script>
        let pyodide = null;
        
        // Initialize Pyodide
        async function initPyodide() {
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pyodide...');
            try {
                pyodide = await loadPyodide({
                    indexURL: "https://cdn.jsdelivr.net/pyodide/v0.28.2/full/"
                });
                await pyodide.loadPackage(['numpy']);
                console.log('‚úÖ Pyodide –≥–æ—Ç–æ–≤');
                updateStatus('Python –≥–æ—Ç–æ–≤', 'success');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Pyodide:', error);
                updateStatus('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Python', 'error');
            }
        }
        
        function updateStatus(message, type) {
            const statusEl = document.getElementById('execution-status');
            statusEl.className = type === 'success' ? 
                'bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm' : 
                'bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm';
            statusEl.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle mr-1"></i>${message}`;
            statusEl.classList.remove('hidden');
        }
        
        function embedCredentials() {
            const folderId = document.getElementById('folder-id').value;
            const apiKey = document.getElementById('api-key').value;
            
            if (!folderId || !apiKey) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ Folder ID –∏ API Key');
                return;
            }
            
            let code = document.getElementById('yandex-code-editor').value;
            
            // –ó–∞–º–µ–Ω—è–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
            code = code.replace(/self\.api_key = ".*?"/g, `self.api_key = "${apiKey}"`);
            code = code.replace(/self\.folder_id = ".*?"/g, `self.folder_id = "${folderId}"`);
            code = code.replace(/your-folder-id/g, folderId);
            code = code.replace(/self\.base_url = ".*?"/g, `self.base_url = "https://llm.api.cloud.yandex.net/foundationModels/v1/"`);
            
            document.getElementById('yandex-code-editor').value = code;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å
            const validationStatus = document.getElementById('validation-status');
            validationStatus.innerHTML = '<span class="text-green-600"><i class="fas fa-check-circle mr-2"></i>–î–∞–Ω–Ω—ã–µ –≤–Ω–µ–¥—Ä–µ–Ω—ã –≤ –∫–æ–¥</span>';
            
            setTimeout(() => {
                validationStatus.innerHTML = '';
            }, 3000);
        }
        
        function validateCredentials() {
            const folderId = document.getElementById('folder-id').value;
            const apiKey = document.getElementById('api-key').value;
            
            const validationStatus = document.getElementById('validation-status');
            
            if (!folderId || !apiKey) {
                validationStatus.innerHTML = '<span class="text-red-600"><i class="fas fa-times-circle mr-2"></i>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</span>';
                return;
            }
            
            // –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
            if (folderId.length > 10 && apiKey.length > 20) {
                validationStatus.innerHTML = '<span class="text-green-600"><i class="fas fa-check-circle mr-2"></i>–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω</span>';
            } else {
                validationStatus.innerHTML = '<span class="text-yellow-600"><i class="fas fa-exclamation-triangle mr-2"></i>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö</span>';
            }
            
            setTimeout(() => {
                validationStatus.innerHTML = '';
            }, 3000);
        }
        
        async function runYandexRAG() {
            const code = document.getElementById('yandex-code-editor').value;
            const outputConsole = document.getElementById('output-console');
            
            if (!pyodide) {
                outputConsole.innerHTML = '<span class="text-yellow-500">‚è≥ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Python...</span>';
                await initPyodide();
            }
            
            outputConsole.innerHTML = '<span class="text-blue-500">üîÑ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞...</span>';
            
            try {
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞
                await pyodide.runPythonAsync(`
import sys
from io import StringIO
sys.stdout = StringIO()
                `);
                
                // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–¥–∞
                await pyodide.runPythonAsync(code);
                
                // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞
                const output = await pyodide.runPythonAsync(`
output = sys.stdout.getvalue()
import sys
from io import StringIO
sys.stdout = StringIO()  # Reset for next run
output
                `);
                
                outputConsole.innerHTML = output || '‚úÖ –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ (–±–µ–∑ –≤—ã–≤–æ–¥–∞)';
                updateStatus('–í—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ', 'success');
                
            } catch (error) {
                outputConsole.innerHTML = `<span class="text-red-500">‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:\\n${error.message}</span>`;
                updateStatus('–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è', 'error');
            }
        }
        
        function clearOutput() {
            document.getElementById('output-console').innerHTML = '<span class="text-gray-500">–ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥" –¥–ª—è –∑–∞–ø—É—Å–∫–∞...</span>';
            document.getElementById('execution-status').classList.add('hidden');
        }
        
        function loadFromGenerator() {
            // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–æ–¥ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
            alert('–§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–¥–∞ –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏');
        }
        
        // Initialize Pyodide when page loads
        document.addEventListener('DOMContentLoaded', initPyodide);
    </script>
</body>
</html>